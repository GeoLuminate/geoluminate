{% load i18n authentication sekizai_tags %}

<li class="nav-item dropdown widget">
  {% if not user.is_authenticated %}
    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
  {% else %}
    <a class="nav-link" href="#" role="button" onclick="$('#userToolbar').toggleClass('show')" aria-expanded="false">
  {% endif %}
    <i class="d-none d-lg-inline fa-solid fa-circle-user fa-lg me-2"></i>
    {% if user.is_authenticated %}
      {{user.display_name|default:"Account"}}
    {% else %}
      {% trans "Guest" %}
    {% endif %}
  </a>
  {% if not user.is_authenticated %}
    {% comment %} // This is the dropdown menu that appears when the user is not logged in {% endcomment %}
    <!-- Dropdown menu links -->
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
      <li>
        <a href="{% url 'account_login' %}" class="dropdown-item">
        <i class="fas fa-sign-in-alt me-2"></i>
        {% trans "Login" %}</a>
      </li>
      <li>
        <a href="{% url 'account_signup' %}" class="dropdown-item">
        <i class="fas fa-user-plus me-2"></i>
        {% trans "Register" %}</a>
      </li>
    </ul>
    {% else %}
    {% comment %} // This is the user toolbar that slides in from the right when the user is logged in {% endcomment %}
    {% addtoblock "before_scripts" %}{% include 'user/toolbar.html' %}{% endaddtoblock %}
  {% endif %}
</li>

