{% extends "geoluminate/base/detail_view.html" %}
{% load partials %}

{% block plugin %}
  {% partialdef plugin inline=True %}
  <c-plugin layout="app">
    <c-layout.sidebar sidebar_class="col-12 col-md-4 col-lg-3 pt-2 pt-md-0">
      <c-slot name="sidebar">
        {% block sidebar_image %}
          <c-image class="ratio ratio-16x9"
                   :image="object.image"
                   alt="{{ object }}"
                   width="100%"
                   height="100%" />
        {% endblock sidebar_image %}

        <div class="hstack justify-content-center gap-1">
          <c-button.follow :object="object" :user="request.user" />
          <c-bs5.button class="btn btn-sm btn-success"
                        icon="share"
                        text="{% trans "Share" %}"
                        data-bs-toggle="modal"
                        data-bs-target="#shareModal" />
          <c-bs5.button class="btn btn-sm btn-secondary"
                        icon="email"
                        text="{% trans "Contact" %}" />
        </div>
        <hr class="m-0 d-none d-md-block" />
        {% block sidebar_cards %}
          {% for heading, config in sidebar_fields %}
            <c-sidebar-fieldset heading="{{ heading }}"
                                :fields="config.fields"
                                :object="object" />
          {% endfor %}
        {% endblock sidebar_cards %}

      </c-slot>
      <div class="col overflow-auto position-relative">
        <div class="container py-3 d-flex gap-2">
          <c-bs5.card class="w-50" title="Graph 1">
            Placeholder content
          </c-bs5.card>
          <c-bs5.card title="Graph 2">
            Placeholder content
          </c-bs5.card>
        </div>
        <div id="mainIndicator"
             class="dataTables_processing htmx-indicator endless_loading fs-1"
             style="width: 3rem;
                    height: 3rem"
             role="status">
          {% icon "spinner" %}
          <span class="visually-hidden">{% trans "Loading..." %}</span>
        </div>
      </div>
    </c-layout.sidebar>
  </c-plugin>
  <c-modals.social :object="object" />
{% endpartialdef plugin %}

{% endblock plugin %}
