{% load i18n geoluminate %}

<div id="{% if preview %}comment-preview{% else %}c{{ comment.id }}{% endif %}" class="comment-item{% if comment.user_id and comment.user_id == comment.content_object.author_id %} by-author{% endif %}">
  {% if preview %}<h3>{% trans "Preview of your comment" %}</h3>{% endif %}
  <div class="d-flex mb-3">
    <div class="flex-shrink-0">
      {% render_profile_image comment.user.profile width="75px" height="75px" extra_classes='shadow' %}
      {% comment %} <img src="{{ comment.user.profile.image.url }}" class="rounded-circle" alt="Sample Image" width="75px"> {% endcomment %}
    </div>
    <div class="flex-grow-1 ms-3">
      <h5>
        {% block comment_title %}
          {% if comment.url %}<a href="{{ comment.url }}" rel="nofollow">{% endif %}
          {% if comment.name %}{{ comment.user.profile.name }}{% else %}{% trans "Anonymous" %}{% endif %}{% if comment.url %}</a>{% endif %}

          - <span class="comment-date">{{ comment.submit_date }}</span>
          {% if not comment.is_public %}<span class="comment-moderated-flag">({% trans "moderated" %})</span>{% endif %}
          {% if comment.user_id and comment.user_id == comment.content_object.author_id %}<span class="comment-author-flag">[{% trans "author" %}]</span>{% endif %}
        {% endblock %}
      </h5>
      <div class="comment-text">{{ comment.comment|linebreaks }}</div>
      <div class="comment-tools">
        {% if USE_THREADEDCOMMENTS and not preview %}
        <a href="#c{{ comment.id }}" data-comment-id="{{ comment.id }}" class="comment-reply-link">
          <i class='fas fa-reply'></i>
          {% trans "reply" %}</a>{% endif %}
      </div>
    </div>
  </div>
</div>
